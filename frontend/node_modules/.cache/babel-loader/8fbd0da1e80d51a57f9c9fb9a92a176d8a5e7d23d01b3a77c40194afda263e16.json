{"ast":null,"code":"var _jsxFileName = \"/Users/krishnachikhale/Documents/Aish_React_Project/Blog_App/frontend/src/Pages/EditPost.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport React from 'react';\nimport ReactQuill from \"react-quill\";\nimport EditorToolbar, { modules, formats } from \"../Utilities/EditorToolbar\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditPost = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [title, setTitle] = useState(\"\");\n  const [summary, setSummary] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [files, setFiles] = useState(\"\");\n  useEffect(() => {\n    const axiosInstance = axios.create({\n      withCredentials: true,\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n    axiosInstance.get(`http://localhost:7078/post/${id}`).then(res => {\n      setTitle(res.data.title);\n      setSummary(res.data.summary);\n      setContent(res.data.content);\n    }).catch(err => console.log(err));\n  }, []);\n  function updatePost(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set(\"id\", id);\n    if (files !== null && files !== void 0 && files[0]) {\n      data.set('file', files === null || files === void 0 ? void 0 : files[0]);\n    }\n    const axiosInstance = axios.create({\n      withCredentials: true,\n      headers: {\n        \"Content-type\": \"multipart/form-data\"\n      }\n    });\n    axiosInstance.put('http://localhost:7078/post', data).then(res => {\n      console.log(res.data);\n      if (res.status === 200) {\n        navigate('/post/' + id);\n      }\n      console.log(res);\n    }).catch(err => console.log(err));\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: updatePost,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Title\",\n        value: title,\n        onChange: ev => setTitle(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"summary\",\n        placeholder: \"Summary\",\n        value: summary,\n        onChange: ev => setSummary(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: ev => setFiles(ev.target.files)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditorToolbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n      theme: \"snow\",\n      value: content,\n      onChange: newValue => setContent(newValue),\n      placeholder: \"Write something awesome...\",\n      modules: modules,\n      formats: formats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        marginTop: \"10px\",\n        width: \"100%\",\n        color: \"#fff\",\n        border: \" 2px solid black\",\n        backgroundColor: \"grey\"\n      },\n      children: \"Update post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(EditPost, \"a0Phs4swRgGD3yTexReCCserdb4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["useEffect","useState","React","ReactQuill","EditorToolbar","modules","formats","useNavigate","useParams","axios","jsxDEV","_jsxDEV","EditPost","_s","id","navigate","title","setTitle","summary","setSummary","content","setContent","files","setFiles","axiosInstance","create","withCredentials","headers","get","then","res","data","catch","err","console","log","updatePost","ev","preventDefault","FormData","set","put","status","onSubmit","children","className","type","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","theme","newValue","style","marginTop","width","color","border","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/krishnachikhale/Documents/Aish_React_Project/Blog_App/frontend/src/Pages/EditPost.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport React from 'react'\nimport ReactQuill from \"react-quill\"\nimport EditorToolbar, { modules, formats } from \"../Utilities/EditorToolbar\"\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst EditPost = () => {\n    const{id} = useParams();\n    const navigate = useNavigate();\n    const[title, setTitle] = useState(\"\");\n    const[summary, setSummary] = useState(\"\");\n    const[content, setContent] = useState(\"\");\n    const[files, setFiles] = useState(\"\");\n\n    useEffect(()=> {\n        const axiosInstance = axios.create({withCredentials: true, headers: {\n            \"Content-type\": \"application/json\",\n        }});\n        axiosInstance.get(`http://localhost:7078/post/${id}`)\n        .then(res => {\n            setTitle(res.data.title)\n            setSummary(res.data.summary)\n            setContent(res.data.content)\n        })\n        .catch(err => console.log(err))\n\n    }, [])\n\n    function updatePost(ev){\n        ev.preventDefault()\n        const data = new FormData();\n        data.set('title', title)\n        data.set('summary', summary)\n        data.set('content', content)\n        data.set(\"id\", id)\n        if(files?.[0]) {\n            data.set('file', files?.[0]);\n        }\n\n        const axiosInstance = axios.create({withCredentials: true, headers: {\n            \"Content-type\": \"multipart/form-data\",\n            }});\n\n            axiosInstance.put('http://localhost:7078/post', data)\n            .then(res => \n                {\n                    console.log (res.data)\n                    if(res.status === 200) \n                    {\n                        navigate('/post/'+id)\n                    }\n                    console.log(res);\n                   \n                })      \n            .catch(err => console.log(err))\n    \n       \n\n    }\n\n  return (\n    <form onSubmit = {updatePost}> \n            <div className = \"title mb-3\">\n                <input type = \"text\" \n                        placeholder = {\"Title\"}  \n                        value = {title} \n                        onChange = {ev => setTitle(ev.target.value)}/>\n            </div>\n            <div className = \"summary mb-3\">\n                <input type = \"summary\"\n                        placeholder = {\"Summary\"}\n                        value = {summary} \n                        onChange = {ev => setSummary(ev.target.value)}  />\n            </div>\n            <div className = \"file mb-3\">\n                 <input type = \"file\" \n                        onChange = {ev => setFiles(ev.target.files)}/> \n            </div>  \n            <EditorToolbar />\n            <ReactQuill\n                theme=\"snow\"\n                value={content}\n                onChange={newValue => setContent(newValue)}\n                placeholder={\"Write something awesome...\"}\n                modules={modules}\n                formats={formats}\n            />\n\n            <button style = {{marginTop: \"10px\", width: \"100%\", color: \"#fff\", border: \" 2px solid black\", backgroundColor: \"grey\"}}>Update post</button>\n            \n        </form>      \n  )\n}\n\nexport default EditPost;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}